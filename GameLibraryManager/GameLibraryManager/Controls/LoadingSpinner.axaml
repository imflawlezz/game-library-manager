<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:i="https://github.com/projektanker/icons.avalonia"
             xmlns:local="using:GameLibraryManager.Controls"
             x:Class="GameLibraryManager.Controls.LoadingSpinner"
             x:DataType="local:LoadingSpinner"
             x:Name="Root">
    
    <UserControl.Styles>

        
        <Style Selector="TextBlock.dot1">
            <Style.Animations>
                <Animation Duration="0:0:1.2" 
                           IterationCount="INFINITE"
                           Easing="LinearEasing">
                    <KeyFrame Cue="0%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                    <KeyFrame Cue="33%">
                        <Setter Property="Opacity" Value="1.0"/>
                    </KeyFrame>
                    <KeyFrame Cue="66%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                    <KeyFrame Cue="100%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>
        <Style Selector="TextBlock.dot2">
            <Style.Animations>
                <Animation Duration="0:0:1.2" 
                           IterationCount="INFINITE"
                           Delay="0:0:0.2"
                           Easing="LinearEasing">
                    <KeyFrame Cue="0%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                    <KeyFrame Cue="33%">
                        <Setter Property="Opacity" Value="1.0"/>
                    </KeyFrame>
                    <KeyFrame Cue="66%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                    <KeyFrame Cue="100%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>
        <Style Selector="TextBlock.dot3">
            <Style.Animations>
                <Animation Duration="0:0:1.2" 
                           IterationCount="INFINITE"
                           Delay="0:0:0.4"
                           Easing="LinearEasing">
                    <KeyFrame Cue="0%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                    <KeyFrame Cue="33%">
                        <Setter Property="Opacity" Value="1.0"/>
                    </KeyFrame>
                    <KeyFrame Cue="66%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                    <KeyFrame Cue="100%">
                        <Setter Property="Opacity" Value="0.2"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>
    </UserControl.Styles>
    
    <StackPanel HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Spacing="16">
        <i:Icon x:Name="SpinnerIcon"
                Value="fa-solid fa-circle-notch"
                FontSize="40"
                Foreground="#58A6FF">
            <i:Icon.RenderTransform>
                <RotateTransform/>
            </i:Icon.RenderTransform>
        </i:Icon>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
            <TextBlock Text="{Binding #Root.Text}"
                       FontSize="14"
                       Foreground="#8B949E"/>
            <TextBlock Text="." Classes="dot1" FontSize="14" Foreground="#8B949E"/>
            <TextBlock Text="." Classes="dot2" FontSize="14" Foreground="#8B949E"/>
            <TextBlock Text="." Classes="dot3" FontSize="14" Foreground="#8B949E"/>
        </StackPanel>
    </StackPanel>
</UserControl>

